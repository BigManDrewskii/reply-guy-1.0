var inlineButtons=(function(){"use strict";var ie=Object.defineProperty;var ae=(k,y,C)=>y in k?ie(k,y,{enumerable:!0,configurable:!0,writable:!0,value:C}):k[y]=C;var S=(k,y,C)=>ae(k,typeof y!="symbol"?y+"":y,C);function k(i){return i}const y={matches:["*://x.com/*","*://twitter.com/*"],runAt:"document_idle",main(i){const e="data-reply-guy-injected",r='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/><path d="M14 9l-2 2-2-2"/><path d="M12 11v-4"/></svg>';function n(b){if(b.getAttribute(e))return;b.setAttribute(e,"true");const w=b.closest('article[data-testid="tweet"]');if(!w)return;const u=document.createElement("button");u.className="reply-guy-inline-btn",u.innerHTML=r,u.setAttribute("aria-label","Analyze with Reply Guy"),u.setAttribute("type","button"),u.addEventListener("click",I=>{I.preventDefault(),I.stopPropagation();const v=w.querySelector('a[role="link"][href^="/"]'),T=v==null?void 0:v.getAttribute("href");if(T){const N=`https://x.com${T.split("/status")[0]}`;chrome.runtime.sendMessage({type:"OPEN_SIDEPANEL_FOR_PROFILE",profileUrl:N}).catch(()=>{})}else chrome.runtime.sendMessage({type:"OPEN_SIDEPANEL"}).catch(()=>{});u.classList.add("processing"),i.setTimeout(()=>{u.classList.remove("processing")},2e3)});const P=document.createElement("div");P.style.display="flex",P.style.alignItems="center",P.appendChild(u),b.appendChild(P)}function g(){document.querySelectorAll(`article[data-testid="tweet"] [role="group"]:not([${e}])`).forEach(n)}i.setTimeout(g,1e3);let m=null;const h=new MutationObserver(()=>{m&&clearTimeout(m),m=i.setTimeout(()=>{m=null,g()},300)}),E=()=>{const b=document.querySelector("main")||document.body;h.observe(b,{childList:!0,subtree:!0})};i.setTimeout(E,1500),i.onInvalidated(()=>{h.disconnect(),m&&clearTimeout(m),document.querySelectorAll(".reply-guy-inline-btn").forEach(b=>{var w;(w=b.parentElement)==null||w.remove()})})}};function C(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var F={exports:{}},z=F.exports,W;function G(){return W||(W=1,(function(i,e){(function(r,n){n(i)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:z,function(r){if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)r.exports=globalThis.browser;else{const n="The message port closed before a response was received.",g=m=>{const h={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(h).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class E extends WeakMap{constructor(t,o=void 0){super(o),this.createItem=t}get(t){return this.has(t)||this.set(t,this.createItem(t)),super.get(t)}}const b=s=>s&&typeof s=="object"&&typeof s.then=="function",w=(s,t)=>(...o)=>{m.runtime.lastError?s.reject(new Error(m.runtime.lastError.message)):t.singleCallbackArg||o.length<=1&&t.singleCallbackArg!==!1?s.resolve(o[0]):s.resolve(o)},u=s=>s==1?"argument":"arguments",P=(s,t)=>function(l,...A){if(A.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${u(t.minArgs)} for ${s}(), got ${A.length}`);if(A.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${u(t.maxArgs)} for ${s}(), got ${A.length}`);return new Promise((d,x)=>{if(t.fallbackToNoCallback)try{l[s](...A,w({resolve:d,reject:x},t))}catch(a){console.warn(`${s} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,a),l[s](...A),t.fallbackToNoCallback=!1,t.noCallback=!0,d()}else t.noCallback?(l[s](...A),d()):l[s](...A,w({resolve:d,reject:x},t))})},I=(s,t,o)=>new Proxy(t,{apply(l,A,d){return o.call(A,s,...d)}});let v=Function.call.bind(Object.prototype.hasOwnProperty);const T=(s,t={},o={})=>{let l=Object.create(null),A={has(x,a){return a in s||a in l},get(x,a,f){if(a in l)return l[a];if(!(a in s))return;let c=s[a];if(typeof c=="function")if(typeof t[a]=="function")c=I(s,s[a],t[a]);else if(v(o,a)){let M=P(a,o[a]);c=I(s,s[a],M)}else c=c.bind(s);else if(typeof c=="object"&&c!==null&&(v(t,a)||v(o,a)))c=T(c,t[a],o[a]);else if(v(o,"*"))c=T(c,t[a],o["*"]);else return Object.defineProperty(l,a,{configurable:!0,enumerable:!0,get(){return s[a]},set(M){s[a]=M}}),c;return l[a]=c,c},set(x,a,f,c){return a in l?l[a]=f:s[a]=f,!0},defineProperty(x,a,f){return Reflect.defineProperty(l,a,f)},deleteProperty(x,a){return Reflect.deleteProperty(l,a)}},d=Object.create(s);return new Proxy(d,A)},N=s=>({addListener(t,o,...l){t.addListener(s.get(o),...l)},hasListener(t,o){return t.hasListener(s.get(o))},removeListener(t,o){t.removeListener(s.get(o))}}),se=new E(s=>typeof s!="function"?s:function(o){const l=T(o,{},{getContent:{minArgs:0,maxArgs:0}});s(l)}),V=new E(s=>typeof s!="function"?s:function(o,l,A){let d=!1,x,a=new Promise(R=>{x=function(p){d=!0,R(p)}}),f;try{f=s(o,l,x)}catch(R){f=Promise.reject(R)}const c=f!==!0&&b(f);if(f!==!0&&!c&&!d)return!1;const M=R=>{R.then(p=>{A(p)},p=>{let U;p&&(p instanceof Error||typeof p.message=="string")?U=p.message:U="An unexpected error occurred",A({__mozWebExtensionPolyfillReject__:!0,message:U})}).catch(p=>{console.error("Failed to send onMessage rejected reply",p)})};return M(c?f:a),!0}),te=({reject:s,resolve:t},o)=>{m.runtime.lastError?m.runtime.lastError.message===n?t():s(new Error(m.runtime.lastError.message)):o&&o.__mozWebExtensionPolyfillReject__?s(new Error(o.message)):t(o)},H=(s,t,o,...l)=>{if(l.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${u(t.minArgs)} for ${s}(), got ${l.length}`);if(l.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${u(t.maxArgs)} for ${s}(), got ${l.length}`);return new Promise((A,d)=>{const x=te.bind(null,{resolve:A,reject:d});l.push(x),o.sendMessage(...l)})},ne={devtools:{network:{onRequestFinished:N(se)}},runtime:{onMessage:N(V),onMessageExternal:N(V),sendMessage:H.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:H.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},D={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return h.privacy={network:{"*":D},services:{"*":D},websites:{"*":D}},T(m,ne,h)};r.exports=g(chrome)}})})(F)),F.exports}var Z=G();const L=C(Z);function $(i,...e){}const Y={debug:(...i)=>$(console.debug,...i),log:(...i)=>$(console.log,...i),warn:(...i)=>$(console.warn,...i),error:(...i)=>$(console.error,...i)},O=class O extends Event{constructor(e,r){super(O.EVENT_NAME,{}),this.newUrl=e,this.oldUrl=r}};S(O,"EVENT_NAME",q("wxt:locationchange"));let j=O;function q(i){var e;return`${(e=L==null?void 0:L.runtime)==null?void 0:e.id}:inline-buttons:${i}`}function J(i){let e,r;return{run(){e==null&&(r=new URL(location.href),e=i.setInterval(()=>{let n=new URL(location.href);n.href!==r.href&&(window.dispatchEvent(new j(n,r)),r=n)},1e3))}}}const _=class _{constructor(e,r){S(this,"isTopFrame",window.self===window.top);S(this,"abortController");S(this,"locationWatcher",J(this));S(this,"receivedMessageIds",new Set);this.contentScriptName=e,this.options=r,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}get signal(){return this.abortController.signal}abort(e){return this.abortController.abort(e)}get isInvalid(){return L.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(e){return this.signal.addEventListener("abort",e),()=>this.signal.removeEventListener("abort",e)}block(){return new Promise(()=>{})}setInterval(e,r){const n=setInterval(()=>{this.isValid&&e()},r);return this.onInvalidated(()=>clearInterval(n)),n}setTimeout(e,r){const n=setTimeout(()=>{this.isValid&&e()},r);return this.onInvalidated(()=>clearTimeout(n)),n}requestAnimationFrame(e){const r=requestAnimationFrame((...n)=>{this.isValid&&e(...n)});return this.onInvalidated(()=>cancelAnimationFrame(r)),r}requestIdleCallback(e,r){const n=requestIdleCallback((...g)=>{this.signal.aborted||e(...g)},r);return this.onInvalidated(()=>cancelIdleCallback(n)),n}addEventListener(e,r,n,g){var m;r==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),(m=e.addEventListener)==null||m.call(e,r.startsWith("wxt:")?q(r):r,n,{...g,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),Y.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:_.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(e){var m,h,E;const r=((m=e.data)==null?void 0:m.type)===_.SCRIPT_STARTED_MESSAGE_TYPE,n=((h=e.data)==null?void 0:h.contentScriptName)===this.contentScriptName,g=!this.receivedMessageIds.has((E=e.data)==null?void 0:E.messageId);return r&&n&&g}listenForNewerScripts(e){let r=!0;const n=g=>{if(this.verifyScriptStartedEvent(g)){this.receivedMessageIds.add(g.data.messageId);const m=r;if(r=!1,m&&(e!=null&&e.ignoreFirstEvent))return;this.notifyInvalidated()}};addEventListener("message",n),this.onInvalidated(()=>removeEventListener("message",n))}};S(_,"SCRIPT_STARTED_MESSAGE_TYPE",q("wxt:content-script-started"));let B=_;const Q=Symbol("null");let X=0;class ee extends Map{constructor(){super(),this._objectHashes=new WeakMap,this._symbolHashes=new Map,this._publicKeys=new Map;const[e]=arguments;if(e!=null){if(typeof e[Symbol.iterator]!="function")throw new TypeError(typeof e+" is not iterable (cannot read property Symbol(Symbol.iterator))");for(const[r,n]of e)this.set(r,n)}}_getPublicKeys(e,r=!1){if(!Array.isArray(e))throw new TypeError("The keys parameter must be an array");const n=this._getPrivateKey(e,r);let g;return n&&this._publicKeys.has(n)?g=this._publicKeys.get(n):r&&(g=[...e],this._publicKeys.set(n,g)),{privateKey:n,publicKey:g}}_getPrivateKey(e,r=!1){const n=[];for(let g of e){g===null&&(g=Q);const m=typeof g=="object"||typeof g=="function"?"_objectHashes":typeof g=="symbol"?"_symbolHashes":!1;if(!m)n.push(g);else if(this[m].has(g))n.push(this[m].get(g));else if(r){const h=`@@mkm-ref-${X++}@@`;this[m].set(g,h),n.push(h)}else return!1}return JSON.stringify(n)}set(e,r){const{publicKey:n}=this._getPublicKeys(e,!0);return super.set(n,r)}get(e){const{publicKey:r}=this._getPublicKeys(e);return super.get(r)}has(e){const{publicKey:r}=this._getPublicKeys(e);return super.has(r)}delete(e){const{publicKey:r,privateKey:n}=this._getPublicKeys(e);return!!(r&&super.delete(r)&&this._publicKeys.delete(n))}clear(){super.clear(),this._symbolHashes.clear(),this._publicKeys.clear()}get[Symbol.toStringTag](){return"ManyKeysMap"}get size(){return super.size}}new ee;function ge(){}function K(i,...e){}const re={debug:(...i)=>K(console.debug,...i),log:(...i)=>K(console.log,...i),warn:(...i)=>K(console.warn,...i),error:(...i)=>K(console.error,...i)};return(async()=>{try{const{main:i,...e}=y,r=new B("inline-buttons",e);return await i(r)}catch(i){throw re.error('The content script "inline-buttons" crashed on startup!',i),i}})()})();
inlineButtons;
